<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yl.soft.mapper.EhbExhibitorMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.yl.soft.po.EhbExhibitor">
        <id column="id" property="id" />
        <result column="managerman" property="managerman" />
        <result column="idcard" property="idcard" />
        <result column="enterprisename" property="enterprisename" />
        <result column="tel" property="tel" />
        <result column="businesslicense" property="businesslicense" />
        <result column="credentials" property="credentials" />
        <result column="isjoin" property="isjoin" />
        <result column="boothno" property="boothno" />
        <result column="address" property="address" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, managerman, idcard, enterprisename, tel, businesslicense, credentials, isjoin, boothno, address
    </sql>

    <select id="exibitionList" resultType= "com.yl.soft.dto.AppLoginDTO">
     	SELECT
            e.*,
            a.*
        FROM
            ehb_exhibitor e
            LEFT JOIN ehb_audience a ON e.id = a.id
        where
            a.isdel = #{paramMap.isdel}
            and e.id != #{paramMap.id}
            and a.state = #{paramMap.state}
            <if test="paramMap.labelid!= null and paramMap.labelid!= ''">
                and a.labelid in (${paramMap.labelid})
            </if>
            order by a.createtime desc
     </select>
</mapper>
